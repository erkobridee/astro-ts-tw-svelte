import{S as v,i as B,s as R,b as k,a as y,d as h,c as w,t as C,e as G,f as L,g as M,h as T,m as $,j as D,k as S,l as E,o as O,p as b,r as x,u as U}from"./index.BoqGq6mQ.js";import"./index.D5Mo3hZC.js";import{E as V,i as z}from"./ECharts.CJRfdhZ7.js";import{b as F,D as P}from"./common.DfdZzzxi.js";function j(n){let r,a,o,d,l;function p(t){n[3](t)}let f={id:"bar-drilldown",init:z,options:n[0],notMerge:n[1]};return n[2]!==void 0&&(f.chart=n[2]),o=new V({props:f}),k.push(()=>y(o,"chart",p)),{c(){r=b("div"),a=b("div"),x(o.$$.fragment),this.h()},l(t){r=S(t,"DIV",{class:!0});var e=E(r);a=S(e,"DIV",{class:!0});var s=E(a);O(o.$$.fragment,s),s.forEach(h),e.forEach(h),this.h()},h(){D(a,"class","absolute top-0 right-0 bottom-0 left-0"),D(r,"class","relative grow")},m(t,e){M(t,r,e),T(r,a),$(o,a,null),l=!0},p(t,[e]){const s={};e&1&&(s.options=t[0]),e&2&&(s.notMerge=t[1]),!d&&e&4&&(d=!0,s.chart=t[2],L(()=>d=!1)),o.$set(s)},i(t){l||(G(o.$$.fragment,t),l=!0)},o(t){C(o.$$.fragment,t),l=!1},d(t){t&&h(r),w(o)}}}function q(n,r,a){const o={itemStyle:{color:"inherit"}},d=F(P),l=[{dataGroupId:"animals",data:[["Cats",4],["Dogs",2],["Cows",1],["Sheep",2],["Pigs",1]]},{dataGroupId:"fruits",data:[["Apples",4],["Oranges",2]]},{dataGroupId:"cars",data:[["Toyota",4],["Opel",2],["Volkswagen",2]]}],p={type:"bar",id:"sales",itemStyle:d,emphasis:o,universalTransition:{enabled:!0,divideShape:"clone"}},t={xAxis:{data:["Animals","Fruits","Cars"]},yAxis:{},dataGroupId:"",animationDurationUpdate:500,series:{...p,cursor:"zoom-in",data:[{value:5,groupId:"animals"},{value:2,groupId:"fruits"},{value:4,groupId:"cars"}]}};let e=t,s=!1,i;const m=c=>{if(console.log("onChartClick",c),!c.data)return;const g=c.data.groupId;if(!g)return;const _=l.find(u=>u.dataGroupId===g);if(!_)return;const I=_.data;a(1,s=!1),a(0,e={xAxis:{data:I.map(u=>u[0])},series:{...p,dataGroupId:_.dataGroupId,cursor:"default",data:I.map(u=>u[1])},graphic:[{type:"text",left:50,top:20,style:{text:"Back",fontSize:18},onclick:()=>{a(1,s=!0),a(0,e=t)}}]})};U(()=>(i.on("click",m),console.log("BarDrilldown - mounted",{chart:i}),()=>{i.off("click",m),console.log("BarDrilldown - destroyed",{chart:i})}));function A(c){i=c,a(2,i)}return[e,s,i,A]}class J extends v{constructor(r){super(),B(this,r,q,j,R,{})}}export{J as default};
