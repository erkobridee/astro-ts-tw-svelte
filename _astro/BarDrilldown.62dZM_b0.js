import{S as v,i as y,s as B,F as R,G as k,x as w,y as C,d as h,a as G,t as L,b as M,z as T,c as $,e as x,m as O,f as D,g as S,h as b,j as z,k as E,l as F,H as U}from"./ECharts.aTH0d2T3.js";import"./index.DKEAfG0C.js";import{b as V,D as H}from"./common.DfdZzzxi.js";function P(n){let r,t,s,d,l;function p(a){n[3](a)}let f={id:"bar-drilldown",init:k,options:n[0],notMerge:n[1]};return n[2]!==void 0&&(f.chart=n[2]),s=new R({props:f}),w.push(()=>C(s,"chart",p)),{c(){r=E("div"),t=E("div"),F(s.$$.fragment),this.h()},l(a){r=S(a,"DIV",{class:!0});var e=b(r);t=S(e,"DIV",{class:!0});var o=b(t);z(s.$$.fragment,o),o.forEach(h),e.forEach(h),this.h()},h(){D(t,"class","absolute top-0 right-0 bottom-0 left-0"),D(r,"class","relative grow")},m(a,e){$(a,r,e),x(r,t),O(s,t,null),l=!0},p(a,[e]){const o={};e&1&&(o.options=a[0]),e&2&&(o.notMerge=a[1]),!d&&e&4&&(d=!0,o.chart=a[2],T(()=>d=!1)),s.$set(o)},i(a){l||(M(s.$$.fragment,a),l=!0)},o(a){L(s.$$.fragment,a),l=!1},d(a){a&&h(r),G(s)}}}function j(n,r,t){const s={itemStyle:{color:"inherit"}},d=V(H),l=[{dataGroupId:"animals",data:[["Cats",4],["Dogs",2],["Cows",1],["Sheep",2],["Pigs",1]]},{dataGroupId:"fruits",data:[["Apples",4],["Oranges",2]]},{dataGroupId:"cars",data:[["Toyota",4],["Opel",2],["Volkswagen",2]]}],p={type:"bar",id:"sales",itemStyle:d,emphasis:s,universalTransition:{enabled:!0,divideShape:"clone"}},a={xAxis:{data:["Animals","Fruits","Cars"]},yAxis:{},dataGroupId:"",animationDurationUpdate:500,series:{...p,cursor:"zoom-in",data:[{value:5,groupId:"animals"},{value:2,groupId:"fruits"},{value:4,groupId:"cars"}]}};let e=a,o=!1,i;const m=c=>{if(console.log("onChartClick",c),!c.data)return;const g=c.data.groupId;if(!g)return;const _=l.find(u=>u.dataGroupId===g);if(!_)return;const I=_.data;t(1,o=!1),t(0,e={xAxis:{data:I.map(u=>u[0])},series:{...p,dataGroupId:_.dataGroupId,cursor:"default",data:I.map(u=>u[1])},graphic:[{type:"text",left:50,top:20,style:{text:"Back",fontSize:18},onclick:()=>{t(1,o=!0),t(0,e=a)}}]})};U(()=>(i.on("click",m),console.log("BarDrilldown - mounted",{chart:i}),()=>{i.off("click",m),console.log("BarDrilldown - destroyed",{chart:i})}));function A(c){i=c,t(2,i)}return[e,o,i,A]}class Y extends v{constructor(r){super(),y(this,r,j,P,B,{})}}export{Y as default};
