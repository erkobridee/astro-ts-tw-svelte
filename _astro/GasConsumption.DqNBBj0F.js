import{S as j,i as B,s as p,y as K,d as E,z as w,v as W,g as y,h as v,j as O,k as D,l as I,A as Y,n as U,w as R,p as C,q as T,x as H,B as se,c as q,t as A,e as k,C as re,D as oe,E as ce,F as fe,G as ue,m as z,o as J,r as X,H as Z}from"./index.BoqGq6mQ.js";import"./dayjs.min.Cbbdfn5l.js";import{C as M,f as me,L as de,g as ge,i as _e,j as he}from"./common.CEFITCIE.js";const Q=3,x=(a,e=Q,t=navigator?.language)=>new Intl.NumberFormat(t,{maximumFractionDigits:e}).format(a),V={KW:"kW",KWH:"kWh",M3:"mÂ³",UNDEFINED:""},S={HOUR:"hour",MINUTES:"15_minutes",UNDEFINED:""};function ve(a){let e,t,n="<strong>TODO:</strong> define the BaseColumnChart",s,i,l,o="color:",c,d,m,r,g,_=JSON.stringify({color:a[0],chartOptions:a[1]},null,2)+"",f;return{c(){e=C("div"),t=C("div"),t.innerHTML=n,s=T(),i=C("div"),l=C("strong"),l.textContent=o,c=T(),d=C("span"),m=T(),r=C("pre"),g=C("code"),f=H(_),this.h()},l(h){e=D(h,"DIV",{class:!0});var b=I(e);t=D(b,"DIV",{"data-svelte-h":!0}),Y(t)!=="svelte-oyzfc0"&&(t.innerHTML=n),s=U(b),i=D(b,"DIV",{});var N=I(i);l=D(N,"STRONG",{"data-svelte-h":!0}),Y(l)!=="svelte-1nheji7"&&(l.textContent=o),c=U(N),d=D(N,"SPAN",{style:!0}),I(d).forEach(E),N.forEach(E),m=U(b),r=D(b,"PRE",{});var L=I(r);g=D(L,"CODE",{});var P=I(g);f=R(P,_),P.forEach(E),L.forEach(E),b.forEach(E),this.h()},h(){w(d,"display","inline-block"),w(d,"border-radius","10px"),w(d,"width","10px"),w(d,"height","10px"),w(d,"background-color",a[0]),O(e,"class","flex flex-col gap-2")},m(h,b){y(h,e,b),v(e,t),v(e,s),v(e,i),v(i,l),v(i,c),v(i,d),v(e,m),v(e,r),v(r,g),v(g,f)},p(h,[b]){b&1&&w(d,"background-color",h[0]),b&3&&_!==(_=JSON.stringify({color:h[0],chartOptions:h[1]},null,2)+"")&&W(f,_)},i:K,o:K,d(h){h&&E(e)}}}function Ee(a,e,t){let{color:n=M}=e,{chartOptions:s}=e,{onclick:i=me}=e;return a.$$set=l=>{"color"in l&&t(0,n=l.color),"chartOptions"in l&&t(1,s=l.chartOptions),"onclick"in l&&t(2,i=l.onclick)},[n,s,i]}class De extends j{constructor(e){super(),B(this,e,Ee,ve,p,{color:0,chartOptions:1,onclick:2})}}function $(a){let e,t;return{c(){e=C("span"),t=H(a[3])},l(n){e=D(n,"SPAN",{});var s=I(e);t=R(s,a[3]),s.forEach(E)},m(n,s){y(n,e,s),v(e,t)},p(n,s){s&8&&W(t,n[3])},d(n){n&&E(e)}}}function Ce(a){let e,t,n,s,i,l,o=x(a[1],a[4])+"",c,d,m=a[3]&&$(a);return{c(){e=C("div"),t=C("span"),n=H(a[0]),s=T(),i=C("div"),l=C("span"),c=H(o),d=T(),m&&m.c(),this.h()},l(r){e=D(r,"DIV",{class:!0});var g=I(e);t=D(g,"SPAN",{});var _=I(t);n=R(_,a[0]),_.forEach(E),s=U(g),i=D(g,"DIV",{class:!0,style:!0});var f=I(i);l=D(f,"SPAN",{class:!0});var h=I(l);c=R(h,o),h.forEach(E),d=U(f),m&&m.l(f),f.forEach(E),g.forEach(E),this.h()},h(){O(l,"class","text-sm tabular-nums"),O(i,"class","text-sm font-semibold"),w(i,"color",a[2]),O(e,"class","flex items-center gap-2")},m(r,g){y(r,e,g),v(e,t),v(t,n),v(e,s),v(e,i),v(i,l),v(l,c),v(i,d),m&&m.m(i,null)},p(r,[g]){g&1&&W(n,r[0]),g&18&&o!==(o=x(r[1],r[4])+"")&&W(c,o),r[3]?m?m.p(r,g):(m=$(r),m.c(),m.m(i,null)):m&&(m.d(1),m=null),g&4&&w(i,"color",r[2])},i:K,o:K,d(r){r&&E(e),m&&m.d()}}}function be(a,e,t){let{label:n}=e,{value:s}=e,{valueColor:i=de}=e,{unit:l}=e,{maximumFractionDigits:o=Q}=e;return a.$$set=c=>{"label"in c&&t(0,n=c.label),"value"in c&&t(1,s=c.value),"valueColor"in c&&t(2,i=c.valueColor),"unit"in c&&t(3,l=c.unit),"maximumFractionDigits"in c&&t(4,o=c.maximumFractionDigits)},[n,s,i,l,o]}class te extends j{constructor(e){super(),B(this,e,be,Ce,p,{label:0,value:1,valueColor:2,unit:3,maximumFractionDigits:4})}}function ee(a){let e,t,n,s;e=new te({props:{label:a[5](0),value:a[3][0],valueColor:a[6](0),unit:a[0],maximumFractionDigits:a[1]}});let i=a[3][1]&&Ie(a);return{c(){X(e.$$.fragment),t=T(),i&&i.c(),n=Z()},l(l){J(e.$$.fragment,l),t=U(l),i&&i.l(l),n=Z()},m(l,o){z(e,l,o),y(l,t,o),i&&i.m(l,o),y(l,n,o),s=!0},p(l,o){const c={};o&1&&(c.unit=l[0]),o&2&&(c.maximumFractionDigits=l[1]),e.$set(c),l[3][1]&&i.p(l,o)},i(l){s||(k(e.$$.fragment,l),k(i),s=!0)},o(l){A(e.$$.fragment,l),A(i),s=!1},d(l){l&&(E(t),E(n)),q(e,l),i&&i.d(l)}}}function Ie(a){let e,t;return e=new te({props:{label:a[5](1),value:a[3][1],valueColor:a[6](1),unit:a[0],maximumFractionDigits:a[1]}}),{c(){X(e.$$.fragment)},l(n){J(e.$$.fragment,n)},m(n,s){z(e,n,s),t=!0},p(n,s){const i={};s&1&&(i.unit=n[0]),s&2&&(i.maximumFractionDigits=n[1]),e.$set(i)},i(n){t||(k(e.$$.fragment,n),t=!0)},o(n){A(e.$$.fragment,n),t=!1},d(n){q(e,n)}}}function Oe(a){let e,t,n,s,i,l,o,c,d,m,r=a[2].length>0&&ee(a);const g=a[15].default,_=se(g,a,a[14],null);return d=new De({props:{chartOptions:a[4],onclick:a[7],color:a[6](0)}}),{c(){e=C("div"),t=C("div"),n=C("div"),r&&r.c(),s=T(),i=C("div"),_&&_.c(),l=T(),o=C("div"),c=C("div"),X(d.$$.fragment),this.h()},l(f){e=D(f,"DIV",{class:!0});var h=I(e);t=D(h,"DIV",{class:!0});var b=I(t);n=D(b,"DIV",{class:!0});var N=I(n);r&&r.l(N),N.forEach(E),s=U(b),i=D(b,"DIV",{});var L=I(i);_&&_.l(L),L.forEach(E),b.forEach(E),l=U(h),o=D(h,"DIV",{class:!0});var P=I(o);c=D(P,"DIV",{class:!0});var G=I(c);J(d.$$.fragment,G),G.forEach(E),P.forEach(E),h.forEach(E),this.h()},h(){O(n,"class","flex items-center gap-4"),O(t,"class","flex items-center justify-between"),O(c,"class","absolute top-0 right-0 bottom-0 left-0 bg-amber-50"),O(o,"class","relative grow"),O(e,"class","flex h-full grow flex-col gap-2")},m(f,h){y(f,e,h),v(e,t),v(t,n),r&&r.m(n,null),v(t,s),v(t,i),_&&_.m(i,null),v(e,l),v(e,o),v(o,c),z(d,c,null),m=!0},p(f,[h]){f[2].length>0?r?(r.p(f,h),h&4&&k(r,1)):(r=ee(f),r.c(),k(r,1),r.m(n,null)):r&&(re(),A(r,1,1,()=>{r=null}),oe()),_&&_.p&&(!m||h&16384)&&ce(_,g,f,f[14],m?ue(g,f[14],h,null):fe(f[14]),null)},i(f){m||(k(r),k(_,f),k(d.$$.fragment,f),m=!0)},o(f){A(r),A(_,f),A(d.$$.fragment,f),m=!1},d(f){f&&E(e),r&&r.d(),_&&_.d(f),q(d)}}}function Ne(a,e,t){let{$$slots:n={},$$scope:s}=e,{unit:i=V.UNDEFINED}=e,{aggregation:l=S.UNDEFINED}=e,{maximumFractionDigits:o=Q}=e,{color:c=M}=e,{timeseries:d=[]}=e,{referencePower:m=void 0}=e,{referencePowerOptions:r=ge}=e,{labels:g=["Consumption","Exceedance"]}=e,{onclick:_=_e}=e,f=!1,h=[0,NaN],b={categories:[],series:[]};const N=(u,F,ne,le,ae)=>{f=L(u,F),console.log("EnergyChart.updateChartOptions",{unit:u,aggregation:F,timeseries:ne,isDrilldownEnabled:f,referencePower:le,referencePowerOptions:ae})},L=(u,F)=>{switch(u){case V.M3:return![S.HOUR,S.MINUTES,S.UNDEFINED].includes(F);case V.KW:case V.KWH:return![S.MINUTES,S.UNDEFINED].includes(F);default:return!1}},P=(u=0)=>Array.isArray(g)?g[u]??"":g,G=(u=0)=>{let F=M;return c&&(F=Array.isArray(c)?c[u]??M:u===0?c:M),F},ie=u=>{console.log("EnergyChart.onChartClick",{isDrilldownEnabled:f,event:u}),u.data&&_(d[u.dataIndex])};return a.$$set=u=>{"unit"in u&&t(0,i=u.unit),"aggregation"in u&&t(8,l=u.aggregation),"maximumFractionDigits"in u&&t(1,o=u.maximumFractionDigits),"color"in u&&t(9,c=u.color),"timeseries"in u&&t(2,d=u.timeseries),"referencePower"in u&&t(10,m=u.referencePower),"referencePowerOptions"in u&&t(11,r=u.referencePowerOptions),"labels"in u&&t(12,g=u.labels),"onclick"in u&&t(13,_=u.onclick),"$$scope"in u&&t(14,s=u.$$scope)},a.$$.update=()=>{a.$$.dirty&3333&&N(i,l,d,m,r)},[i,o,d,h,b,P,G,ie,l,c,m,r,g,_,s,n]}class ke extends j{constructor(e){super(),B(this,e,Ne,Oe,p,{unit:0,aggregation:8,maximumFractionDigits:1,color:9,timeseries:2,referencePower:10,referencePowerOptions:11,labels:12,onclick:13})}}function Fe(a){let e;return{c(){e=H("Gas Consumption Actions")},l(t){e=R(t,"Gas Consumption Actions")},m(t,n){y(t,e,n)},d(t){t&&E(e)}}}function we(a){let e,t,n,s;return n=new ke({props:{timeseries:a[0],onclick:a[1],color:he,unit:V.M3,aggregation:S.HOUR,$$slots:{default:[Fe]},$$scope:{ctx:a}}}),{c(){e=C("div"),t=C("div"),X(n.$$.fragment),this.h()},l(i){e=D(i,"DIV",{class:!0});var l=I(e);t=D(l,"DIV",{class:!0});var o=I(t);J(n.$$.fragment,o),o.forEach(E),l.forEach(E),this.h()},h(){O(t,"class","absolute top-0 right-0 bottom-0 left-0"),O(e,"class","relative grow")},m(i,l){y(i,e,l),v(e,t),z(n,t,null),s=!0},p(i,[l]){const o={};l&1&&(o.timeseries=i[0]),l&4&&(o.$$scope={dirty:l,ctx:i}),n.$set(o)},i(i){s||(k(n.$$.fragment,i),s=!0)},o(i){A(n.$$.fragment,i),s=!1},d(i){i&&E(e),q(n)}}}function Ae(a,e,t){let{timeseries:n=[]}=e;const s=i=>{console.log("GasConsumption.onChartClick timeserie:",i)};return a.$$set=i=>{"timeseries"in i&&t(0,n=i.timeseries)},[n,s]}class Le extends j{constructor(e){super(),B(this,e,Ae,we,p,{timeseries:0})}}export{Le as default};
