import{S as y,i as P,s as S,d as m,e as $,t as k,f as D,h as p,j as b,m as w,k as _,l as g,n as d,p as M,q as I,u as v,x as R,y as N}from"./ECharts.D_PwvaFx.js";import{E as U,a as i,U as A,A as T}from"./EnergyChart.Dop6VK0m.js";import{h as u,j as H,k as X}from"./ChartLoadingSpinner.Cz1SxX42.js";import"./dayjs.min.2rai63wT.js";import"./index.t4S9YAZx.js";function Y(s){let o;return{c(){o=N("Electricity Consumption header actions")},l(e){o=R(e,"Electricity Consumption header actions")},m(e,a){p(e,o,a)},d(e){e&&m(o)}}}function j(s){let o;return{c(){o=N("Footer Row")},l(e){o=R(e,"Footer Row")},m(e,a){p(e,o,a)},d(e){e&&m(o)}}}function q(s){let o,e,a,l;return a=new U({props:{type:s[0],color:s[1],labels:s[2],unit:s[3],aggregation:s[4],timeseries:s[5],onclick:s[6],$$slots:{footer:[j],headerActions:[Y]},$$scope:{ctx:s}}}),{c(){o=I("div"),e=I("div"),v(a.$$.fragment),this.h()},l(t){o=g(t,"DIV",{class:!0});var n=d(o);e=g(n,"DIV",{class:!0});var r=d(e);M(a.$$.fragment,r),r.forEach(m),n.forEach(m),this.h()},h(){_(e,"class","absolute top-0 right-0 bottom-0 left-0"),_(o,"class","relative grow")},m(t,n){p(t,o,n),b(o,e),w(a,e,null),l=!0},p(t,[n]){const r={};n&1&&(r.type=t[0]),n&2&&(r.color=t[1]),n&4&&(r.labels=t[2]),n&8&&(r.unit=t[3]),n&16&&(r.aggregation=t[4]),n&32&&(r.timeseries=t[5]),n&2048&&(r.$$scope={dirty:n,ctx:t}),a.$set(r)},i(t){l||(D(a.$$.fragment,t),l=!0)},o(t){k(a.$$.fragment,t),l=!1},d(t){t&&m(o),$(a)}}}function B(s,o,e){const a={[`${i.PLAIN}`]:["Consumption","Exceedance"],[`${i.PLAIN}_EXCEEDANCE`]:["Consumption","Exceedance"],[`${i.REPARTITION}`]:["Shared with me","Bought from market"]},l={[`${i.PLAIN}`]:[u],[`${i.PLAIN}_EXCEEDANCE`]:[u,X],[`${i.REPARTITION}`]:[H,u]};let t=i.PLAIN,n=[u],r=["Consumption","Exceedance"],f=A.KW,C=T.MINUTES,h=[],{data:E}=o;const L=c=>{console.log("ElectricityConsumption.updateTimeSeries",c),e(3,f=A.KWH),e(4,C=T.MONTH),e(5,h=c.months.repartition),e(0,t=i.REPARTITION),e(1,n=l[t]),e(2,r=a[t])},O=c=>{console.log("ElectricityConsumption.onChartClick timeserie:",c)};return s.$$set=c=>{"data"in c&&e(7,E=c.data)},s.$$.update=()=>{s.$$.dirty&128&&L(E)},[t,n,r,f,C,h,O,E]}class G extends y{constructor(o){super(),P(this,o,B,q,S,{data:7})}}export{G as default};
